---
name: agent-signature-generator
description: Generates consistent agent signatures for all file types. Ensures traceability by signing every file with agent name, timestamp, session, and purpose. Eliminates ~600 lines of signature format duplication.
version: 1.0.0
category: core
priority: critical
---

# Agent Signature Generator

A core skill that generates standardized agent signatures for all file types. Every file created or modified by an agent MUST be signed for complete traceability.

## Purpose

**Problem:** Every agent defines 3-4 different signature formats manually
**Solution:** Single skill that generates signatures for any file type
**Benefit:** Eliminates 600+ lines of duplication + perfect traceability

## Capabilities

- âœ… Generate signatures for Markdown files
- âœ… Generate signatures for code files (JS, Python, C#, Java, Go, etc.)
- âœ… Generate signatures for JSON files
- âœ… Generate signatures for YAML files
- âœ… Auto-detect file type from extension
- âœ… Include all required metadata (agent, timestamp, session, purpose, requester)
- âœ… Format-specific comment styles

## Usage

### Action: generate

Generates an agent signature for a specific file type.

**Input:**
```
Skill: agent-signature-generator
Action: generate
File Type: <markdown | javascript | python | csharp | java | go | json | yaml | typescript | rust>
Agent Name: <your-agent-name>
Session ID: <DDMM_YYYY_NN>
Purpose: <what this file does>
Requested By: <who requested this work> (optional)
Phase: <PPP> (optional, for files in session folders)
```

**Output:**
- Formatted signature block ready to insert at top of file

**Example 1 - Markdown:**
```
Skill: agent-signature-generator
Action: generate
File Type: markdown
Agent Name: code-architect
Session ID: 1611_2025_01
Purpose: Architecture design for authentication system
Requested By: mvp-manager
Phase: 001
```

Returns:
```markdown
ðŸ“‹ Prepared by CODE-ARCHITECT on 2025-11-16 10:30
Session: 1611_2025_01
Requested by: mvp-manager
Purpose: Architecture design for authentication system
Phase: 001
---
```

**Example 2 - JavaScript:**
```
Skill: agent-signature-generator
Action: generate
File Type: javascript
Agent Name: quick-developer
Session ID: 1611_2025_01
Purpose: MVP authentication implementation
Requested By: mvp-manager
```

Returns:
```javascript
/**
 * Generated by QUICK-DEVELOPER - 2025-11-16 10:30
 * Session: 1611_2025_01 | Requested by: mvp-manager
 * Purpose: MVP authentication implementation
 *
 * MVP: Speed-optimized implementation - see TODOs for production upgrades
 */
```

**Example 3 - Python:**
```
Skill: agent-signature-generator
Action: generate
File Type: python
Agent Name: quality-developer
Session ID: 1611_2025_01
Purpose: Production-ready user service
Requested By: error-manager
```

Returns:
```python
"""
Generated by QUALITY-DEVELOPER - 2025-11-16 10:30
Session: 1611_2025_01 | Requested by: error-manager
Purpose: Production-ready user service

This implementation follows SOLID principles with proper error handling
and comprehensive validation. Built for long-term maintainability.
"""
```

**Example 4 - JSON:**
```
Skill: agent-signature-generator
Action: generate
File Type: json
Agent Name: interaction-mapper
Session ID: 1611_2025_01
Purpose: User interaction flows mapping
Phase: 002
```

Returns:
```json
{
  "_metadata": {
    "agent": "interaction-mapper",
    "timestamp": "2025-11-16T10:30:00.000Z",
    "session": "1611_2025_01",
    "phase": "002",
    "purpose": "User interaction flows mapping"
  }
}
```

### Action: auto-generate

Auto-detects file type from filename and generates appropriate signature.

**Input:**
```
Skill: agent-signature-generator
Action: auto-generate
File Name: <filename.ext>
Agent Name: <your-agent-name>
Session ID: <DDMM_YYYY_NN>
Purpose: <what this file does>
Requested By: <who requested this work> (optional)
Phase: <PPP> (optional)
```

**Example:**
```
Skill: agent-signature-generator
Action: auto-generate
File Name: auth-service.ts
Agent Name: quality-developer
Session ID: 1611_2025_01
Purpose: Authentication service implementation
Requested By: mvp-manager
```

Returns TypeScript signature (auto-detected from .ts extension):
```typescript
/**
 * Generated by QUALITY-DEVELOPER - 2025-11-16 10:30
 * Session: 1611_2025_01 | Requested by: mvp-manager
 * Purpose: Authentication service implementation
 */
```

### Action: validate

Validates if a file has proper agent signature.

**Input:**
```
Skill: agent-signature-generator
Action: validate
File Path: <path/to/file>
```

**Output:**
- has_signature: boolean
- signature_valid: boolean
- agent_name: string (if found)
- session_id: string (if found)
- warnings: array

**Example:**
```
Skill: agent-signature-generator
Action: validate
File Path: src/auth/login.js
```

Returns:
```
Has Signature: true
Signature Valid: true
Agent Name: quick-developer
Session ID: 1611_2025_01
Warnings: []
```

## Signature Formats by File Type

### Markdown (.md)
```markdown
ðŸ“‹ Prepared by {AGENT-NAME} on {YYYY-MM-DD HH:MM}
Session: {session_id}
Requested by: {requester}
Purpose: {purpose}
Phase: {phase}
---
```

### JavaScript / TypeScript (.js, .ts, .jsx, .tsx)
```javascript
/**
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 *
 * {agent-specific-note}
 */
```

Agent-specific notes:
- quick-developer: "MVP: Speed-optimized implementation - see TODOs for production upgrades"
- quality-developer: "Production-ready implementation with proper patterns and error handling"
- test-developer: "Test suite - validates behavior and prevents regressions"

### Python (.py)
```python
"""
Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
Session: {session_id} | Requested by: {requester}
Purpose: {purpose}

{agent-specific-note}
"""
```

### C# (.cs)
```csharp
/*
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 *
 * {agent-specific-note}
 */
```

### Java (.java)
```java
/**
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 *
 * {agent-specific-note}
 */
```

### Go (.go)
```go
/*
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 */
```

### Rust (.rs)
```rust
/*
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 */
```

### JSON (.json)
```json
{
  "_metadata": {
    "agent": "{agent-name}",
    "timestamp": "{ISO-8601}",
    "session": "{session_id}",
    "phase": "{phase}",
    "purpose": "{purpose}",
    "requested_by": "{requester}"
  }
}
```

Note: _metadata should be first key in object

### YAML (.yaml, .yml)
```yaml
# Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
metadata:
  agent: {agent-name}
  timestamp: {ISO-8601}
  session: {session_id}
  phase: {phase}
  purpose: {purpose}
  requested_by: {requester}
```

### Shell Scripts (.sh, .bash)
```bash
#!/bin/bash
# Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
# Session: {session_id} | Requested by: {requester}
# Purpose: {purpose}
```

### SQL (.sql)
```sql
-- Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
-- Session: {session_id} | Requested by: {requester}
-- Purpose: {purpose}
```

### CSS / SCSS (.css, .scss)
```css
/*
 * Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
 * Session: {session_id} | Requested by: {requester}
 * Purpose: {purpose}
 */
```

### HTML (.html)
```html
<!--
  Generated by {AGENT-NAME} - {YYYY-MM-DD HH:MM}
  Session: {session_id} | Requested by: {requester}
  Purpose: {purpose}
-->
```

## Agent Name Formatting

Always convert agent names to uppercase in signatures:
- quick-developer â†’ QUICK-DEVELOPER
- mvp-manager â†’ MVP-MANAGER
- code-architect â†’ CODE-ARCHITECT
- interaction-mapper â†’ INTERACTION-MAPPER
- error-manager â†’ ERROR-MANAGER
- quality-developer â†’ QUALITY-DEVELOPER
- test-developer â†’ TEST-DEVELOPER
- error-tracker â†’ ERROR-TRACKER

## Timestamp Formatting

### For Markdown
Human-readable: `2025-11-16 10:30`
Format: `YYYY-MM-DD HH:MM`

### For Code Comments
Human-readable: `2025-11-16 10:30`
Format: `YYYY-MM-DD HH:MM`

### For JSON/YAML
ISO-8601 with milliseconds: `2025-11-16T10:30:00.000Z`
Format: `YYYY-MM-DDTHH:mm:ss.sssZ`

## Required vs Optional Fields

### Always Required
- Agent Name
- Timestamp
- Session ID
- Purpose

### Optional (but recommended)
- Requested By (defaults to "user" if omitted)
- Phase (only for files in session folders)

### Agent-Specific Notes
- Only added for code files
- Specific to agent type (quick-developer, quality-developer, test-developer)
- Helps distinguish intent

## Integration with Agents

### Before (without skill) - ~60 lines per agent
Each agent manually defined signature formats for 3-4 file types.

### After (with skill) - ~5 lines

**When creating a file:**
```markdown
Before writing file content, generate signature:

Skill: agent-signature-generator
Action: auto-generate
File Name: {filename}
Agent Name: {your-agent-name}
Session ID: {session_id}
Purpose: {file-purpose}
Requested By: {requester}

Then insert the returned signature at the top of the file.
```

**When validating files:**
```markdown
Check if existing files have proper signatures:

Skill: agent-signature-generator
Action: validate
File Path: {path-to-file}

If signature missing or invalid, add/update it.
```

## Best Practices

1. **ALWAYS sign files** you create or significantly modify
2. **Use auto-generate** when possible (detects type from filename)
3. **Include purpose** - make it clear what the file does
4. **Specify requester** - track delegation chain
5. **Add phase** for session folder files
6. **Validate signatures** in existing files before modifying

## Validation Rules

A valid signature must:
- Appear at the top of the file (first 10 lines)
- Include agent name
- Include timestamp (within last 7 days for current work)
- Include session ID (valid format)
- Include purpose

Warnings are issued for:
- Signature not in first 10 lines
- Timestamp older than 7 days (might be stale)
- Missing requested_by field
- Session ID doesn't match current session

## Common Patterns

### Pattern 1: New File Creation
```
1. Determine file type
2. Use auto-generate with filename
3. Insert signature at top
4. Write file content
```

### Pattern 2: Modifying Existing File
```
1. Validate current signature
2. If valid and same agent: keep it
3. If different agent: add new signature with "Modified by..."
4. If missing: add signature
```

### Pattern 3: Batch Signing
```
For each file in [list]:
  Generate signature for file
  Prepend to file content
```

## Related Skills

- **json-report-manager**: Uses this skill to sign JSON reports
- **session-manager**: Uses this skill to sign session metadata files
- **file-naming-validator**: Works with this to ensure complete file traceability

## Migration from Manual Signatures

For existing agents with manual signatures:

1. **Identify signature blocks** in agent specs
2. **Replace with skill usage** (5 lines vs 60 lines)
3. **Test on 1-2 files** first
4. **Validate all files** in existing sessions
5. **Update any mismatched signatures**

## Version History

- **1.0.0** (2025-11-16): Initial implementation with all major file types
